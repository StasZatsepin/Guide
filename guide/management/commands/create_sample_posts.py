from django.core.management.base import BaseCommand
from guide.models import GuidePost


class Command(BaseCommand):
    help = 'Создает тестовые посты для сайта Гэндальф гид'

    def handle(self, *args, **options):
        # Очищаем существующие посты
        GuidePost.objects.all().delete()
        
        # Создаем тестовые посты
        posts_data = [
            {
                'title': 'Как безопасно пройти через Морию',
                'content': '''Мория, древнее королевство гномов, хранит множество опасностей. Вот несколько важных советов для путешественников:

1. Никогда не трогайте воду в колодцах - она может скрывать древних существ
2. Избегайте громких звуков - они могут разбудить спящих в глубинах
3. Всегда держите при себе источник света - в Мории тьма абсолютная
4. Следите за знаками на стенах - гномы оставили предупреждения
5. Если услышите звук барабанов - бегите как можно быстрее

Помните: "Ты не пройдёшь!" - это не просто слова, а предупреждение о смертельной опасности.''',
                'location': 'Мория',
                'category': 'travel_tips',
                'is_published': True
            },
            {
                'title': 'История Братства Кольца',
                'content': '''Братство Кольца было сформировано в Ривенделле в 3018 году Третьей Эпохи. В его состав входили:

- Фродо Бэггинс (Хранитель Кольца)
- Сэм, Мерри и Пиппин (хоббиты)
- Арагорн (наследник трона Гондора)
- Боромир (сын наместника Гондора)
- Леголас (эльф из Лихолесья)
- Гимли (гном из Эребора)
- Гэндальф Серый (маг Истари)

Их миссия заключалась в уничтожении Единого Кольца в огне Ородруина. Путешествие длилось 13 месяцев и привело к Войне Кольца.''',
                'location': 'Средиземье',
                'category': 'historical_facts',
                'is_published': True
            },
            {
                'title': 'Тайны Лотлориэна',
                'content': '''Лотлориэн, королевство эльфов-галадрим, одно из самых загадочных мест Средиземья.

Особенности этого магического места:
- Золотые деревья мэллиорн, которые цветут круглый год
- Власть Нэньи, одного из Трех Колец эльфов
- Защитные чары Галадриэль
- Время здесь течет иначе - один день может равняться году в других местах
- Зеркало Галадриэль показывает прошлое, настоящее и возможное будущее

Лотлориэн остается последним оплотом древней магии эльфов в Средиземье.''',
                'location': 'Лотлориэн',
                'category': 'magical_places',
                'is_published': True
            },
            {
                'title': 'Советы по выживанию в Шире',
                'content': '''Шир может показаться безопасным местом, но даже здесь есть свои правила:

1. Всегда здоровайтесь с хоббитами - они ценят вежливость
2. Не отказывайтесь от еды - это считается оскорблением
3. Избегайте разговоров о приключениях - хоббиты предпочитают спокойную жизнь
4. Помните о расписании приемов пищи - хоббиты едят 6 раз в день
5. Уважайте их любовь к порядку и традициям

Шир - это место покоя и уюта, где можно отдохнуть от опасностей внешнего мира.''',
                'location': 'Шир',
                'category': 'travel_tips',
                'is_published': True
            },
            {
                'title': 'Великая битва при Хельмовой Пади',
                'content': '''Битва при Хельмовой Пади произошла в 3019 году Третьей Эпохи между армией Сарумана и защитниками Рохана.

Ключевые события:
- 10,000 урук-хай атаковали крепость Хельмовой Пади
- Король Теоден и его войска защищали крепость
- Гэндальф привел подкрепление во главе с Эомером
- Битва закончилась полным разгромом армии Сарумана
- Это была одна из крупнейших битв Войны Кольца

Победа при Хельмовой Пади спасла Рохан и позволила Гондору сосредоточиться на защите от Мордора.''',
                'location': 'Рохан',
                'category': 'historical_facts',
                'is_published': True
            }
        ]
        
        for post_data in posts_data:
            GuidePost.objects.create(**post_data)
        
        self.stdout.write(
            self.style.SUCCESS(f'Успешно создано {len(posts_data)} тестовых постов!')
        ) 